@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  /* Updated color tokens for notebook theme with light background */
  --background: #f8f9fa; /* Light notebook paper background */
  --foreground: #1a1a1a; /* Dark text for good contrast */
  --card: rgba(255, 255, 255, 0.95); /* White cards with slight transparency */
  --card-foreground: #1a1a1a; /* Dark text on cards */
  --popover: rgba(255, 255, 255, 0.98); /* Nearly opaque white for popups */
  --popover-foreground: #1a1a1a; /* Dark text for popups */
  --primary: #3b82f6; /* Blue primary color for notebook theme */
  --primary-foreground: #ffffff; /* White text on blue */
  --secondary: rgba(59, 130, 246, 0.1); /* Light blue background for secondary buttons */
  --secondary-foreground: #1e40af; /* Dark blue text on secondary */
  --muted: rgba(0, 0, 0, 0.05); /* Very subtle muted background */
  --muted-foreground: rgba(0, 0, 0, 0.6); /* Muted dark text */
  --accent: #3b82f6; /* Blue accent color */
  --accent-foreground: #ffffff; /* White text on accent */
  --destructive: #ef4444; /* Red for destructive actions */
  --destructive-foreground: #ffffff; /* White text on destructive */
  --border: rgba(0, 0, 0, 0.1); /* Light border */
  --input: rgba(255, 255, 255, 0.8); /* Light input backgrounds */
  --ring: rgba(59, 130, 246, 0.5); /* Blue focus rings */
  --chart-1: #3b82f6;
  --chart-2: #ef4444;
  --chart-3: #10b981;
  --chart-4: #f59e0b;
  --chart-5: #8b5cf6;
  --radius: 0.75rem;
  --sidebar: rgba(255, 255, 255, 0.9);
  --sidebar-foreground: #1a1a1a;
  --sidebar-primary: #3b82f6;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: rgba(59, 130, 246, 0.1);
  --sidebar-accent-foreground: #1e40af;
  --sidebar-border: rgba(0, 0, 0, 0.1);
  --sidebar-ring: rgba(59, 130, 246, 0.5);
}

.dark {
  /* Dark mode - blackboard theme with chalk colors */
  --background: #1a1a1a; /* Dark blackboard background */
  --foreground: #f5f5dc; /* Chalk white/cream color */
  --card: rgba(40, 40, 40, 0.95); /* Dark card background */
  --card-foreground: #f5f5dc; /* Chalk text on cards */
  --popover: rgba(30, 30, 30, 0.98); /* Dark popover */
  --popover-foreground: #f5f5dc; /* Chalk text for popups */
  --primary: #90ee90; /* Chalk green for primary */
  --primary-foreground: #1a1a1a; /* Dark text on green */
  --secondary: rgba(144, 238, 144, 0.2); /* Light green background for secondary */
  --secondary-foreground: #90ee90; /* Green text on secondary */
  --muted: rgba(255, 255, 255, 0.1); /* Subtle muted background */
  --muted-foreground: rgba(245, 245, 220, 0.7); /* Muted chalk text */
  --accent: #ffb6c1; /* Chalk pink accent */
  --accent-foreground: #1a1a1a; /* Dark text on accent */
  --destructive: #ff6b6b; /* Chalk red for destructive */
  --destructive-foreground: #1a1a1a; /* Dark text on destructive */
  --border: rgba(245, 245, 220, 0.2); /* Chalk border */
  --input: rgba(40, 40, 40, 0.8); /* Dark input backgrounds */
  --ring: rgba(144, 238, 144, 0.5); /* Green focus rings */
  --chart-1: #90ee90;
  --chart-2: #ff6b6b;
  --chart-3: #87ceeb;
  --chart-4: #ffd700;
  --chart-5: #dda0dd;
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-handwritten: var(--font-handwritten); /* Added handwritten font variable */
  --font-chalk: var(--font-chalk); /* Added chalk font variable for blackboard theme */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }

  /* Replaced fireplace background with elementary school notebook style */
  .notebook-bg {
    /* Notebook paper texture */
    background: linear-gradient(to right, #ff6b6b 26px, transparent 26px),
      linear-gradient(
        to bottom,
        transparent 24px,
        rgba(135, 206, 235, 0.3) 25px,
        rgba(135, 206, 235, 0.3) 26px,
        transparent 27px
      ), linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    background-size: 100% 100%, 100% 28px, 100% 100%;
    background-position: 0 0, 0 0, 0 0;
    position: relative;
  }

  .notebook-bg::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /* Cute stickers and doodles scattered around */
    background-image: radial-gradient(circle at 15% 20%, #ff69b4 8px, transparent 8px),
      radial-gradient(circle at 85% 15%, #32cd32 6px, transparent 6px),
      radial-gradient(circle at 25% 80%, #ffd700 7px, transparent 7px),
      radial-gradient(circle at 75% 85%, #ff6347 5px, transparent 5px),
      radial-gradient(circle at 90% 60%, #9370db 6px, transparent 6px),
      radial-gradient(circle at 10% 70%, #ff1493 7px, transparent 7px),
      radial-gradient(circle at 60% 25%, #00ced1 8px, transparent 8px),
      radial-gradient(circle at 40% 90%, #ffa500 6px, transparent 6px);
    background-size: 200px 200px, 180px 180px, 220px 220px, 160px 160px, 190px 190px, 210px 210px, 170px 170px, 200px
      200px;
    background-repeat: no-repeat;
    pointer-events: none;
    opacity: 0.6;
  }

  .notebook-bg::after {
    content: "★ ♡ ☀ ♪ ✿ ☆ ♥ ☁ ♫ ❀";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    font-size: 24px;
    color: rgba(255, 105, 180, 0.4);
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    align-items: flex-start;
    padding: 40px;
    line-height: 80px;
    letter-spacing: 60px;
    pointer-events: none;
    transform: rotate(-5deg);
  }

  .glass-card {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  }

  /* Removed fireplace-specific animations and added notebook doodle animations */
  .doodle-bounce {
    animation: doodle-float 4s ease-in-out infinite;
  }

  @keyframes doodle-float {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-5px) rotate(2deg);
    }
  }

  /* Adding blackboard background for dark mode */
  .blackboard-bg {
    background: linear-gradient(45deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
    position: relative;
    /* Blackboard texture */
    background-image: radial-gradient(circle at 20% 80%, rgba(245, 245, 220, 0.03) 1px, transparent 1px),
      radial-gradient(circle at 80% 20%, rgba(245, 245, 220, 0.03) 1px, transparent 1px),
      radial-gradient(circle at 40% 40%, rgba(245, 245, 220, 0.02) 1px, transparent 1px);
    background-size: 50px 50px, 60px 60px, 40px 40px;
  }

  .blackboard-bg::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /* Enhanced chalk dust effect and hand-drawn illustrations */
    /* Chalk dust particles */
    background-image: radial-gradient(circle at 15% 25%, rgba(245, 245, 220, 0.1) 2px, transparent 2px),
      radial-gradient(circle at 85% 75%, rgba(144, 238, 144, 0.08) 1px, transparent 1px),
      radial-gradient(circle at 45% 85%, rgba(255, 182, 193, 0.06) 1px, transparent 1px),
      radial-gradient(circle at 70% 30%, rgba(135, 206, 235, 0.07) 1px, transparent 1px),
      radial-gradient(circle at 25% 60%, rgba(255, 215, 0, 0.05) 1px, transparent 1px),
      /* Hand-drawn chalk circles and shapes */
      radial-gradient(
        ellipse 40px 30px at 20% 40%,
        transparent 18px,
        rgba(144, 238, 144, 0.15) 19px,
        rgba(144, 238, 144, 0.15) 21px,
        transparent 22px
      ),
      radial-gradient(
        ellipse 35px 35px at 80% 70%,
        transparent 16px,
        rgba(255, 182, 193, 0.12) 17px,
        rgba(255, 182, 193, 0.12) 19px,
        transparent 20px
      ),
      radial-gradient(
        ellipse 45px 25px at 60% 15%,
        transparent 20px,
        rgba(135, 206, 235, 0.1) 21px,
        rgba(135, 206, 235, 0.1) 23px,
        transparent 24px
      ), /* Chalk smudges and eraser marks */
      linear-gradient(
        45deg,
        transparent 48%,
        rgba(245, 245, 220, 0.08) 49%,
        rgba(245, 245, 220, 0.08) 51%,
        transparent 52%
      ),
      linear-gradient(
        -30deg,
        transparent 47%,
        rgba(144, 238, 144, 0.06) 48%,
        rgba(144, 238, 144, 0.06) 50%,
        transparent 51%
      );
    background-size: 100px 100px, 120px 120px, 80px 80px, 90px 90px, 110px 110px, 200px 200px, 180px 180px, 220px 220px,
      150px 150px, 170px 170px;
    background-position: 0 0, 50px 50px, 25px 25px, 75px 75px, 100px 100px, 0 0, 100px 50px, 50px 100px, 0 50px, 50px 0;
    pointer-events: none;
    opacity: 0.8;
  }

  .blackboard-bg::after {
    /* Added more diverse chalk drawings and mathematical symbols */
    content: "★ ♡ ☀ ♪ ✿ ☆ ♥ ☁ ♫ ❀ ∞ π ÷ × + - = ≈ ° ∠ △ ◯ □ ◇ ♠ ♣ ♦ ♪ ♫ ♬ ♩ ☺ ☻ ♂ ♀ ☯ ✓ ✗ ⚡ ☂ ❅ ❄ ☃ ♨ ☢ ☣ ⚠ ⚡";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    font-size: 16px;
    color: rgba(245, 245, 220, 0.08);
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    align-items: flex-start;
    padding: 40px;
    line-height: 60px;
    letter-spacing: 30px;
    pointer-events: none;
    transform: rotate(-2deg);
    font-family: var(--font-chalk);
    /* Added animation for floating chalk symbols */
    animation: chalk-float 8s ease-in-out infinite;
  }

  /* Added chalk floating animation */
  @keyframes chalk-float {
    0%,
    100% {
      transform: rotate(-2deg) translateY(0px);
      opacity: 0.08;
    }
    25% {
      transform: rotate(-1deg) translateY(-3px);
      opacity: 0.12;
    }
    50% {
      transform: rotate(-3deg) translateY(-1px);
      opacity: 0.06;
    }
    75% {
      transform: rotate(-2.5deg) translateY(-2px);
      opacity: 0.1;
    }
  }
}
